define(["exports","../../shared_bundle_1.js"],function(_exports,_shared_bundle_){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.renderAttributes=renderAttributes;_exports.classString=classString;_exports.styleString=styleString;_exports.render$2=_exports.render=render;_exports.removeNodesFromTemplate=removeNodesFromTemplate;_exports.insertNodeIntoTemplate=insertNodeIntoTemplate;_exports.render$1=render$1;_exports.defaultTemplateFactory=defaultTemplateFactory;_exports.removeNodes=_exports.reparentNodes=_exports.TemplateInstance=_exports.defaultPartCallback=_exports.NodePart=_exports.AttributePart=_exports.directiveValue=_exports.noChange=_exports.directive=_exports.getValue=_exports.Template=_exports.isTemplatePartActive=_exports.TemplatePart=_exports.SVGTemplateResult=_exports.templateCaches=_exports.TemplateResult$1=_exports.TemplateResult=_exports.svg$3=_exports.svg$2=_exports.html$3=_exports.html$2=_exports.EventPart=_exports.PropertyPart=_exports.BooleanAttributePart=_exports.extendedPartCallback=_exports.LitElement=_exports.svg$1=_exports.svg=_exports.html$1=_exports.html=_exports.$litHtml=_exports.$shadyRender=_exports.$modifyTemplate=_exports.$litExtended=_exports.$litElement=void 0;const templateCaches=new Map;_exports.templateCaches=templateCaches;const html=(strings,...values)=>new TemplateResult(strings,values,"html");_exports.html$3=_exports.html$2=html;const svg=(strings,...values)=>new SVGTemplateResult(strings,values,"svg");_exports.svg$3=_exports.svg$2=svg;class TemplateResult{constructor(strings,values,type,partCallback=defaultPartCallback){this.strings=strings;this.values=values;this.type=type;this.partCallback=partCallback}getHTML(){const l=this.strings.length-1;let html="",isTextBinding=!0;for(let i=0;i<l;i++){const s=this.strings[i];html+=s;const closing=findTagClose(s);isTextBinding=-1<closing?closing<s.length:isTextBinding;html+=isTextBinding?nodeMarker:marker}html+=this.strings[l];return html}getTemplateElement(){const template=document.createElement("template");template.innerHTML=this.getHTML();return template}}_exports.TemplateResult$1=_exports.TemplateResult=TemplateResult;class SVGTemplateResult extends TemplateResult{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const template=super.getTemplateElement(),content=template.content,svgElement=content.firstChild;content.removeChild(svgElement);reparentNodes(content,svgElement.firstChild);return template}}_exports.SVGTemplateResult=SVGTemplateResult;function defaultTemplateFactory(result){let templateCache=templateCaches.get(result.type);if(templateCache===void 0){templateCache=new Map;templateCaches.set(result.type,templateCache)}let template=templateCache.get(result.strings);if(template===void 0){template=new Template(result,result.getTemplateElement());templateCache.set(result.strings,template)}return template}function render(result,container,templateFactory=defaultTemplateFactory){const template=templateFactory(result);let instance=container.__templateInstance;if(instance!==void 0&&instance.template===template&&instance._partCallback===result.partCallback){instance.update(result.values);return}instance=new TemplateInstance(template,result.partCallback,templateFactory);container.__templateInstance=instance;const fragment=instance._clone();instance.update(result.values);removeNodes(container,container.firstChild);container.appendChild(fragment)}const marker=`{{lit-${(Math.random()+"").slice(2)}}}`,nodeMarker=`<!--${marker}-->`,markerRegex=new RegExp(`${marker}|${nodeMarker}`),lastAttributeNameRegex=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function findTagClose(str){const close=str.lastIndexOf(">"),open=str.indexOf("<",close+1);return-1<open?str.length:close}class TemplatePart{constructor(type,index,name,rawName,strings){this.type=type;this.index=index;this.name=name;this.rawName=rawName;this.strings=strings}}_exports.TemplatePart=TemplatePart;const isTemplatePartActive=part=>-1!==part.index;_exports.isTemplatePartActive=isTemplatePartActive;class Template{constructor(result,element){this.parts=[];this.element=element;const content=this.element.content,walker=document.createTreeWalker(content,133,null,!1);let index=-1,partIndex=0;const nodesToRemove=[];let previousNode,currentNode;while(walker.nextNode()){index++;previousNode=currentNode;const node=currentNode=walker.currentNode;if(1===node.nodeType){if(!node.hasAttributes()){continue}const attributes=node.attributes;let count=0;for(let i=0;i<attributes.length;i++){if(0<=attributes[i].value.indexOf(marker)){count++}}while(0<count--){const stringForPart=result.strings[partIndex],attributeNameInPart=lastAttributeNameRegex.exec(stringForPart)[1],attribute=attributes.getNamedItem(attributeNameInPart),stringsForAttributeValue=attribute.value.split(markerRegex);this.parts.push(new TemplatePart("attribute",index,attribute.name,attributeNameInPart,stringsForAttributeValue));node.removeAttribute(attribute.name);partIndex+=stringsForAttributeValue.length-1}}else if(3===node.nodeType){const nodeValue=node.nodeValue;if(0>nodeValue.indexOf(marker)){continue}const parent=node.parentNode,strings=nodeValue.split(markerRegex),lastIndex=strings.length-1;partIndex+=lastIndex;for(let i=0;i<lastIndex;i++){parent.insertBefore(""===strings[i]?document.createComment(""):document.createTextNode(strings[i]),node);this.parts.push(new TemplatePart("node",index++))}parent.insertBefore(""===strings[lastIndex]?document.createComment(""):document.createTextNode(strings[lastIndex]),node);nodesToRemove.push(node)}else if(8===node.nodeType&&node.nodeValue===marker){const parent=node.parentNode,previousSibling=node.previousSibling;if(null===previousSibling||previousSibling!==previousNode||previousSibling.nodeType!==Node.TEXT_NODE){parent.insertBefore(document.createComment(""),node)}else{index--}this.parts.push(new TemplatePart("node",index++));nodesToRemove.push(node);if(null===node.nextSibling){parent.insertBefore(document.createComment(""),node)}else{index--}currentNode=previousNode;partIndex++}}for(const n of nodesToRemove){n.parentNode.removeChild(n)}}}_exports.Template=Template;const getValue=(part,value)=>{if(isDirective(value)){value=value(part);return noChange}return null===value?void 0:value};_exports.getValue=getValue;const directive=f=>{f.__litDirective=!0;return f};_exports.directive=directive;const isDirective=o=>"function"===typeof o&&!0===o.__litDirective,noChange={};_exports.directiveValue=_exports.noChange=noChange;const isPrimitiveValue=value=>null===value||!("object"===typeof value||"function"===typeof value);class AttributePart{constructor(instance,element,name,strings){this.instance=instance;this.element=element;this.name=name;this.strings=strings;this.size=strings.length-1;this._previousValues=[]}_interpolate(values,startIndex){const strings=this.strings,l=strings.length-1;let text="";for(let i=0;i<l;i++){text+=strings[i];const v=getValue(this,values[startIndex+i]);if(v&&v!==noChange&&(Array.isArray(v)||"string"!==typeof v&&v[Symbol.iterator])){for(const t of v){text+=t}}else{text+=v}}return text+strings[l]}_equalToPreviousValues(values,startIndex){for(let i=startIndex;i<startIndex+this.size;i++){if(this._previousValues[i]!==values[i]||!isPrimitiveValue(values[i])){return!1}}return!0}setValue(values,startIndex){if(this._equalToPreviousValues(values,startIndex)){return}const s=this.strings;let value;if(2===s.length&&""===s[0]&&""===s[1]){value=getValue(this,values[startIndex]);if(Array.isArray(value)){value=value.join("")}}else{value=this._interpolate(values,startIndex)}if(value!==noChange){this.element.setAttribute(this.name,value)}this._previousValues=values}}_exports.AttributePart=AttributePart;class NodePart{constructor(instance,startNode,endNode){this.instance=instance;this.startNode=startNode;this.endNode=endNode;this._previousValue=void 0}setValue(value){value=getValue(this,value);if(value===noChange){return}if(isPrimitiveValue(value)){if(value===this._previousValue){return}this._setText(value)}else if(value instanceof TemplateResult){this._setTemplateResult(value)}else if(Array.isArray(value)||value[Symbol.iterator]){this._setIterable(value)}else if(value instanceof Node){this._setNode(value)}else if(value.then!==void 0){this._setPromise(value)}else{this._setText(value)}}_insert(node){this.endNode.parentNode.insertBefore(node,this.endNode)}_setNode(value){if(this._previousValue===value){return}this.clear();this._insert(value);this._previousValue=value}_setText(value){const node=this.startNode.nextSibling;value=value===void 0?"":value;if(node===this.endNode.previousSibling&&node.nodeType===Node.TEXT_NODE){node.textContent=value}else{this._setNode(document.createTextNode(value))}this._previousValue=value}_setTemplateResult(value){const template=this.instance._getTemplate(value);let instance;if(this._previousValue&&this._previousValue.template===template){instance=this._previousValue}else{instance=new TemplateInstance(template,this.instance._partCallback,this.instance._getTemplate);this._setNode(instance._clone());this._previousValue=instance}instance.update(value.values)}_setIterable(value){if(!Array.isArray(this._previousValue)){this.clear();this._previousValue=[]}const itemParts=this._previousValue;let partIndex=0;for(const item of value){let itemPart=itemParts[partIndex];if(itemPart===void 0){let itemStart=this.startNode;if(0<partIndex){const previousPart=itemParts[partIndex-1];itemStart=previousPart.endNode=document.createTextNode("");this._insert(itemStart)}itemPart=new NodePart(this.instance,itemStart,this.endNode);itemParts.push(itemPart)}itemPart.setValue(item);partIndex++}if(0===partIndex){this.clear();this._previousValue=void 0}else if(partIndex<itemParts.length){const lastPart=itemParts[partIndex-1];itemParts.length=partIndex;this.clear(lastPart.endNode.previousSibling);lastPart.endNode=this.endNode}}_setPromise(value){this._previousValue=value;value.then(v=>{if(this._previousValue===value){this.setValue(v)}})}clear(startNode=this.startNode){removeNodes(this.startNode.parentNode,startNode.nextSibling,this.endNode)}}_exports.NodePart=NodePart;const defaultPartCallback=(instance,templatePart,node)=>{if("attribute"===templatePart.type){return new AttributePart(instance,node,templatePart.name,templatePart.strings)}else if("node"===templatePart.type){return new NodePart(instance,node,node.nextSibling)}throw new Error(`Unknown part type ${templatePart.type}`)};_exports.defaultPartCallback=defaultPartCallback;class TemplateInstance{constructor(template,partCallback,getTemplate){this._parts=[];this.template=template;this._partCallback=partCallback;this._getTemplate=getTemplate}update(values){let valueIndex=0;for(const part of this._parts){if(!part){valueIndex++}else if(part.size===void 0){part.setValue(values[valueIndex]);valueIndex++}else{part.setValue(values,valueIndex);valueIndex+=part.size}}}_clone(){const fragment=this.template.element.content.cloneNode(!0),parts=this.template.parts;if(0<parts.length){const walker=document.createTreeWalker(fragment,133,null,!1);let index=-1;for(let i=0;i<parts.length;i++){const part=parts[i],partActive=isTemplatePartActive(part);if(partActive){while(index<part.index){index++;walker.nextNode()}}this._parts.push(partActive?this._partCallback(this,part,walker.currentNode):void 0)}}return fragment}}_exports.TemplateInstance=TemplateInstance;const reparentNodes=(container,start,end=null,before=null)=>{let node=start;while(node!==end){const n=node.nextSibling;container.insertBefore(node,before);node=n}};_exports.reparentNodes=reparentNodes;const removeNodes=(container,startNode,endNode=null)=>{let node=startNode;while(node!==endNode){const n=node.nextSibling;container.removeChild(node);node=n}};_exports.removeNodes=removeNodes;_exports.$litHtml={templateCaches:templateCaches,html:html,svg:svg,TemplateResult:TemplateResult,SVGTemplateResult:SVGTemplateResult,defaultTemplateFactory:defaultTemplateFactory,render:render,TemplatePart:TemplatePart,isTemplatePartActive:isTemplatePartActive,Template:Template,getValue:getValue,directive:directive,noChange:noChange,directiveValue:noChange,AttributePart:AttributePart,NodePart:NodePart,defaultPartCallback:defaultPartCallback,TemplateInstance:TemplateInstance,reparentNodes:reparentNodes,removeNodes:removeNodes};const walkerNodeFilter=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT;function removeNodesFromTemplate(template,nodesToRemove){const{element:{content},parts}=template,walker=document.createTreeWalker(content,walkerNodeFilter,null,!1);let partIndex=0,part=parts[0],nodeIndex=-1,removeCount=0;const nodesToRemoveInTemplate=[];let currentRemovingNode=null;while(walker.nextNode()){nodeIndex++;const node=walker.currentNode;if(node.previousSibling===currentRemovingNode){currentRemovingNode=null}if(nodesToRemove.has(node)){nodesToRemoveInTemplate.push(node);if(null===currentRemovingNode){currentRemovingNode=node}}if(null!==currentRemovingNode){removeCount++}while(part!==void 0&&part.index===nodeIndex){part.index=null!==currentRemovingNode?-1:part.index-removeCount;part=parts[++partIndex]}}nodesToRemoveInTemplate.forEach(n=>n.parentNode.removeChild(n))}const countNodes=node=>{let count=1;const walker=document.createTreeWalker(node,walkerNodeFilter,null,!1);while(walker.nextNode()){count++}return count},nextActiveIndexInTemplateParts=(parts,startIndex=-1)=>{for(let i=startIndex+1;i<parts.length;i++){const part=parts[i];if(isTemplatePartActive(part)){return i}}return-1};function insertNodeIntoTemplate(template,node,refNode=null){const{element:{content},parts}=template;if(null===refNode||refNode===void 0){content.appendChild(node);return}const walker=document.createTreeWalker(content,walkerNodeFilter,null,!1);let partIndex=nextActiveIndexInTemplateParts(parts),insertCount=0,walkerIndex=-1;while(walker.nextNode()){walkerIndex++;const walkerNode=walker.currentNode;if(walkerNode===refNode){refNode.parentNode.insertBefore(node,refNode);insertCount=countNodes(node)}while(-1!==partIndex&&parts[partIndex].index===walkerIndex){if(0<insertCount){while(-1!==partIndex){parts[partIndex].index+=insertCount;partIndex=nextActiveIndexInTemplateParts(parts,partIndex)}return}partIndex=nextActiveIndexInTemplateParts(parts,partIndex)}}}_exports.$modifyTemplate={removeNodesFromTemplate:removeNodesFromTemplate,insertNodeIntoTemplate:insertNodeIntoTemplate};const getTemplateCacheKey=(type,scopeName)=>`${type}--${scopeName}`,shadyTemplateFactory=scopeName=>result=>{const cacheKey=getTemplateCacheKey(result.type,scopeName);let templateCache=templateCaches.get(cacheKey);if(templateCache===void 0){templateCache=new Map;templateCaches.set(cacheKey,templateCache)}let template=templateCache.get(result.strings);if(template===void 0){const element=result.getTemplateElement();if("object"===typeof window.ShadyCSS){window.ShadyCSS.prepareTemplateDom(element,scopeName)}template=new Template(result,element);templateCache.set(result.strings,template)}return template},TEMPLATE_TYPES=["html","svg"];function removeStylesFromLitTemplates(scopeName){TEMPLATE_TYPES.forEach(type=>{const templates=templateCaches.get(getTemplateCacheKey(type,scopeName));if(templates!==void 0){templates.forEach(template=>{const{element:{content}}=template,styles=content.querySelectorAll("style");removeNodesFromTemplate(template,new Set(Array.from(styles)))})}})}const shadyRenderSet=new Set,ensureStylesScoped=(fragment,template,scopeName)=>{if(!shadyRenderSet.has(scopeName)){shadyRenderSet.add(scopeName);const styleTemplate=document.createElement("template");Array.from(fragment.querySelectorAll("style")).forEach(s=>{styleTemplate.content.appendChild(s)});window.ShadyCSS.prepareTemplateStyles(styleTemplate,scopeName);removeStylesFromLitTemplates(scopeName);if(window.ShadyCSS.nativeShadow){const style=styleTemplate.content.querySelector("style");if(null!==style){fragment.insertBefore(style,fragment.firstChild);insertNodeIntoTemplate(template,style.cloneNode(!0),template.element.content.firstChild)}}}};function render$1(result,container,scopeName){const templateFactory=shadyTemplateFactory(scopeName),template=templateFactory(result);let instance=container.__templateInstance;if(instance!==void 0&&instance.template===template&&instance._partCallback===result.partCallback){instance.update(result.values);return}instance=new TemplateInstance(template,result.partCallback,templateFactory);container.__templateInstance=instance;const fragment=instance._clone();instance.update(result.values);const host=container instanceof ShadowRoot?container.host:void 0;if(host!==void 0&&"object"===typeof window.ShadyCSS){ensureStylesScoped(fragment,template,scopeName);window.ShadyCSS.styleElement(host)}removeNodes(container,container.firstChild);container.appendChild(fragment)}_exports.$shadyRender={render:render$1,html:html,svg:svg,TemplateResult:TemplateResult};const html$1=(strings,...values)=>new TemplateResult(strings,values,"html",extendedPartCallback);_exports.html$1=_exports.html=html$1;const svg$1=(strings,...values)=>new SVGTemplateResult(strings,values,"svg",extendedPartCallback);_exports.svg$1=_exports.svg=svg$1;const extendedPartCallback=(instance,templatePart,node)=>{if("attribute"===templatePart.type){if("on-"===templatePart.rawName.substr(0,3)){const eventName=templatePart.rawName.slice(3);return new EventPart(instance,node,eventName)}const lastChar=templatePart.name.substr(templatePart.name.length-1);if("$"===lastChar){const name=templatePart.name.slice(0,-1);return new AttributePart(instance,node,name,templatePart.strings)}if("?"===lastChar){const name=templatePart.name.slice(0,-1);return new BooleanAttributePart(instance,node,name,templatePart.strings)}return new PropertyPart(instance,node,templatePart.rawName,templatePart.strings)}return defaultPartCallback(instance,templatePart,node)};_exports.extendedPartCallback=extendedPartCallback;class BooleanAttributePart extends AttributePart{setValue(values,startIndex){const s=this.strings;if(2===s.length&&""===s[0]&&""===s[1]){const value=getValue(this,values[startIndex]);if(value===noChange){return}if(value){this.element.setAttribute(this.name,"")}else{this.element.removeAttribute(this.name)}}else{throw new Error("boolean attributes can only contain a single expression")}}}_exports.BooleanAttributePart=BooleanAttributePart;class PropertyPart extends AttributePart{setValue(values,startIndex){const s=this.strings;let value;if(this._equalToPreviousValues(values,startIndex)){return}if(2===s.length&&""===s[0]&&""===s[1]){value=getValue(this,values[startIndex])}else{value=this._interpolate(values,startIndex)}if(value!==noChange){this.element[this.name]=value}this._previousValues=values}}_exports.PropertyPart=PropertyPart;class EventPart{constructor(instance,element,eventName){this.instance=instance;this.element=element;this.eventName=eventName}setValue(value){const listener=getValue(this,value);if(listener===this._listener){return}if(null==listener){this.element.removeEventListener(this.eventName,this)}else if(null==this._listener){this.element.addEventListener(this.eventName,this)}this._listener=listener}handleEvent(event){if("function"===typeof this._listener){this._listener.call(this.element,event)}else if("function"===typeof this._listener.handleEvent){this._listener.handleEvent(event)}}}_exports.EventPart=EventPart;_exports.$litExtended={html:html$1,svg:svg$1,extendedPartCallback:extendedPartCallback,BooleanAttributePart:BooleanAttributePart,PropertyPart:PropertyPart,EventPart:EventPart,render:render};function renderAttributes(element,attrInfo){for(const a in attrInfo){const v=!0===attrInfo[a]?"":attrInfo[a];if(v||""===v||0===v){if(element.getAttribute(a)!==v){element.setAttribute(a,v+"")}}else if(element.hasAttribute(a)){element.removeAttribute(a)}}}function classString(classInfo){const o=[];for(const name in classInfo){const v=classInfo[name];if(v){o.push(name)}}return o.join(" ")}function styleString(styleInfo){const o=[];for(const name in styleInfo){const v=styleInfo[name];if(v||0===v){o.push(`${(0,_shared_bundle_.camelToDashCase)(name)}: ${v}`)}}return o.join("; ")}class LitElement extends(0,_shared_bundle_.PropertiesMixin)(HTMLElement){constructor(){super(...arguments);this.__renderComplete=null;this.__resolveRenderComplete=null;this.__isInvalid=!1;this.__isChanging=!1}ready(){this._root=this._createRoot();super.ready();this._firstRendered()}connectedCallback(){if(window.ShadyCSS&&this._root){window.ShadyCSS.styleElement(this)}super.connectedCallback()}_firstRendered(){}_createRoot(){return this.attachShadow({mode:"open"})}_shouldPropertiesChange(_props,_changedProps,_prevProps){const shouldRender=this._shouldRender(_props,_changedProps,_prevProps);if(!shouldRender&&this.__resolveRenderComplete){this.__resolveRenderComplete(!1)}return shouldRender}_shouldRender(){return!0}_propertiesChanged(props,changedProps,prevProps){super._propertiesChanged(props,changedProps,prevProps);const result=this._render(props);if(result&&this._root!==void 0){this._applyRender(result,this._root)}this._didRender(props,changedProps,prevProps);if(this.__resolveRenderComplete){this.__resolveRenderComplete(!0)}}_flushProperties(){this.__isChanging=!0;this.__isInvalid=!1;super._flushProperties();this.__isChanging=!1}_shouldPropertyChange(property,value,old){const change=super._shouldPropertyChange(property,value,old);if(change&&this.__isChanging){console.trace(`Setting properties in response to other properties changing `+`considered harmful. Setting '${property}' from `+`'${this._getProperty(property)}' to '${value}'.`)}return change}_render(){throw new Error("_render() not implemented")}_applyRender(result,node){render$1(result,node,this.localName)}_didRender(){}requestRender(){this._invalidateProperties()}_invalidateProperties(){this.__isInvalid=!0;super._invalidateProperties()}get renderComplete(){if(!this.__renderComplete){this.__renderComplete=new Promise(resolve=>{this.__resolveRenderComplete=value=>{this.__resolveRenderComplete=this.__renderComplete=null;resolve(value)}});if(!this.__isInvalid&&this.__resolveRenderComplete){Promise.resolve().then(()=>this.__resolveRenderComplete(!1))}}return this.__renderComplete}}_exports.LitElement=LitElement;_exports.$litElement={renderAttributes:renderAttributes,classString:classString,styleString:styleString,LitElement:LitElement,html:html$1,svg:svg$1};class SdlSrchBar extends LitElement{constructor(){super();this.addEventListener("change",sendEventOrAjax,!1);this.addEventListener("keyup",sendEventOrAjax,!1)}static get properties(){return{ajaxUrl:{type:String}}}_render(){return html$1`
      <style>
        :host {
          display: block;
        }
      </style>

      <iron-form id="main-form">
        <slot></slot>
      </iron-form>
    `}}window.customElements.define("sdl-srch-bar",SdlSrchBar);function sendEventOrAjax(event){var me=this;event.cancelBubble=!0;if(event.stopPropagation)event.stopPropagation();var form=this._root.querySelector("#main-form"),formData=form.serializeForm();if("undefined"===typeof this.ajaxUrl){me.dispatchEvent(new CustomEvent("changed",{bubbles:!0,composed:!0,detail:{target:me,formData:formData}}))}else{get(this.ajaxUrl).then(function(response){var resp=JSON.parse(response);me.dispatchEvent(new CustomEvent("changed",{bubbles:!0,composed:!0,detail:{target:me,formData:formData,payload:resp.payload}}))},function(error){alert("AJAX Failed!",error)})}}function get(url){return new Promise(function(resolve,reject){var req=new XMLHttpRequest;req.open("GET",url);req.onload=function(){if(200==req.status){resolve(req.response)}else{reject(Error(req.statusText))}};req.onerror=function(){reject(Error("Network Error"))};req.send()})}});