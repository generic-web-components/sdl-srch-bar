define(["../polymer/polymer-legacy.js","../marked-element/marked-element.js","../prism-element/prism-highlighter.js","../prism-element/prism-theme-default.js","../polymer/lib/legacy/polymer-fn.js","../polymer/lib/utils/html-tag.js","../polymer/lib/legacy/polymer.dom.js"],function(_polymerLegacy,_markedElement,_prismHighlighter,_prismThemeDefault,_polymerFn,_htmlTag,_polymerDom){"use strict";function _templateObject_2d701340c04b11e89f1b85ccbc18f6e5(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"prism-theme-default\">\n      :host {\n        display: block;\n\n        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n                    0 1px 5px 0 rgba(0, 0, 0, 0.12),\n                    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n        margin-bottom: 40px;\n        @apply --demo-snippet;\n      }\n\n      .demo {\n        display: block;\n        border-bottom: 1px solid #e0e0e0;\n        background-color: white;\n        margin: 0;\n        padding: 20px;\n        @apply --demo-snippet-demo;\n      }\n\n      .code-container {\n        margin: 0;\n        background-color: #f5f5f5;\n        font-size: 13px;\n        overflow: auto;\n        position: relative;\n        padding: 0 20px;\n        @apply --demo-snippet-code;\n      }\n\n      .code {\n        padding: 20px;\n        margin: 0;\n        background-color: var(--google-grey-100);\n        font-size: 13px;\n        overflow: auto;\n        @apply --demo-snippet-code;\n      }\n      .code > pre {\n        margin: 0;\n        padding: 0 0 10px 0;\n      }\n\n      button {\n        position: absolute;\n        top: 0;\n        right: 0px;\n        text-transform: uppercase;\n        border: none;\n        cursor: pointer;\n        background: #e0e0e0;\n      }\n    </style>\n\n    <prism-highlighter></prism-highlighter>\n\n    <div class=\"demo\">\n      <slot id=\"content\"></slot>\n    </div>\n\n    <div class=\"code-container\">\n      <marked-element markdown=\"[[_markdown]]\" id=\"marked\">\n         <div class=\"code\" slot=\"markdown-html\" id=\"code\"></div>\n      </marked-element>\n      <button id=\"copyButton\" title=\"copy to clipboard\" on-tap=\"_copyToClipboard\">Copy</button>\n    </div>\n"]);_templateObject_2d701340c04b11e89f1b85ccbc18f6e5=function(){return data};return data}(0,_polymerFn.Polymer)({_template:(0,_htmlTag.html)(_templateObject_2d701340c04b11e89f1b85ccbc18f6e5()),is:"demo-snippet",properties:{_markdown:{type:String}},attached:function attached(){this._observer=(0,_polymerDom.dom)(this.$.content).observeNodes(function(){this._updateMarkdown()}.bind(this))},detached:function detached(){if(this._observer){(0,_polymerDom.dom)(this.$.content).unobserveNodes(this._observer);this._observer=null}},_updateMarkdown:function _updateMarkdown(){var template=(0,_polymerDom.dom)(this).queryDistributedElements("template")[0];if(!template){this._markdown="";return}var snippet=this.$.marked.unindent(template.innerHTML);snippet=snippet.replace(/ class=""/g,"");snippet=snippet.replace(/=""/g,"");this._markdown="```\n"+snippet+"\n"+"```";if(!template.hasAttribute("is")){(0,_polymerDom.dom)(this.$.content).unobserveNodes(this._observer);this._observer=null;(0,_polymerDom.dom)(this).appendChild(document.importNode(template.content,!0))}},_copyToClipboard:function _copyToClipboard(){var snipRange=document.createRange();snipRange.selectNodeContents(this.$.code);var selection=window.getSelection();selection.removeAllRanges();selection.addRange(snipRange);var result=!1;try{result=document.execCommand("copy");this.$.copyButton.textContent="done"}catch(err){console.error(err);this.$.copyButton.textContent="error"}setTimeout(this._resetCopyButtonState.bind(this),1e3);selection.removeAllRanges();return result},_resetCopyButtonState:function _resetCopyButtonState(){this.$.copyButton.textContent="copy"}})});